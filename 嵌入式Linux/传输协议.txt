zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz

								飞鸽传书协议(飞秋)
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
【一】特点
　　 1.飞鸽传书可以安装在任一使用TCP/IP协议的的操作系统上。
　　 2.在网络中完成了动态用户识别机制。
　　 3.所有飞鸽用户之间可以相互交换信息。
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
【二】传输协议:
　　 1.使用TCP/UDP端口（默认端口：2425）。
　　 2.信息 发送/接收：UDP，
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
【三】命令
①命令的功能（32位命令字的低8位）
	IPMSG_NOOPERATION 	// 没有任何操作
    IPMSG_BR_ENTRY 		// 上线（开始于广播此命令）　
    IPMSG_BR_EXIT 		// 下线（结束于广播此命令）　
    IPMSG_ANSENTRY		// 通报新上线　　
    IPMSG_BR_ABSENCE 	// 更改为离开状态	
    IPMSG_BR_ISGETLIST 	// 搜寻有效的主机用户
    IPMSG_OKGETLIST 	// 主机列表发送通知	
    IPMSG_GETLIST 		// 主机列表发送请求	
    IPMSG_ANSLIST		// 主机列表发送	
    IPMSG_SENDMSG 		// 消息传送　
    IPMSG_RECVMSG		// 接收消息确认	
    IPMSG_READMSG		// 消息打开通知
    IPMSG_DELMSG 		// 消息丢弃通知
    IPMSG_ANSREADMSG 	// 消息打开确认通知（版本8中加入）
    IPMSG_GETFILEDATA	// 基于TCP的文件传送请求
    IPMSG_RELEASEFILES 	// 丢弃（取消）附件文件的接收
    IPMSG_GETDIRFILES 	// 文件夹传书请求
    IPMSG_GETINFO 		// 飞鸽版本信息
    IPMSG_SENDINFO 		// 传送飞鸽版本信息
    IPMSG_GETABSENCEINFO	// 获取离线判定
    IPMSG_SENDABSENCEINFO	// 发送离线判定
    IPMSG_GETPUBKEY 		// 公钥获取
    IPMSG_ANSPUBKEY 		// 公钥相应
　　　　　　　　　　　　
②命令的选项位（32位命令字的高24位）
    IPMSG_ABSENCEOPT 	// 离开状态（用户识别命令）
    IPMSG_SERVEROPT 	// 服务器（保留）
    IPMSG_DIALUPOPT 	// 发送个人用户识别命令
    IPMSG_SENDCHECKOPT 	// 传送检查
    IPMSG_SECRETOPT 	// 封闭信息
    IPMSG_READCHECKOPT  // 封闭信息检查（版本8中加入）
    IPMSG_PASSWORDOPT 	// 锁
    IPMSG_BROADCASTOPT	// 广播信息	
    IPMSG_MULTICASTOPT 	// 多播
    IPMSG_NEWMUTIOPT 	// 新版本多播
    IPMSG_AUTORETOPT	// 自动回复
    IPMSG_NOLOGOPT 		// 无日志文件
    IPMSG_NOADDLISTOPT	// 不在线用户通知
    IPMSG_FILEATTACHOPT // 文件附件选项
    IPMSG_ENCRYPTOPT 	// 编码
    IPMSG_NOPOPUPOPT 	// （不可用）
    IPMSG_RETRYOPT		// 重发位（在获取hostlist时使用）
　　　　　　　　　　　　
③命令的扩展编码位（十六进制格式组合）
    IPMSG_RSA_512
    IPMSG_RSA_1024
    IPMSG_RSA_2048
    IPMSG_RC2_40
    IPMSG_RC2_128
    IPMSG_RC2_256
    IPMSG_BLOWFISH_128
    IPMSG_BLOWFISH_256
    IPMSG_SIGN_MD5

④命令的 文件附件扩展位（文件属性低8位）
    IPMSG_FILE_REGULAR
    IPMSG_FILE_DIR
    IPMSG_FILE_RETPARENT
    IPMSG_FILE_SYMLINK
    IPMSG_FILE_CDEV
    IPMSG_FILE_BDEV
    IPMSG_FILE_FIFO
    IPMSG_FILE_RESFORK

⑤命令的 附件文件属性（文件属性高24位）
    IPMSG_FILE_RONLYOPT
    IPMSG_FILE_HIDDENOPT
    IPMSG_FILE_EXHIDDENOPT
    IPMSG_FILE_ARCHIVEOPT
    IPMSG_FILE_SYSTEMOPT

⑥命令的 附件文件的扩展文件属性
    IPMSG_FILE_UID
    IPMSG_FILE_USERNAME
    IPMSG_FILE_GID
    IPMSG_FILE_GROUPNAME
    IPMSG_FILE_PERM
    IPMSG_FILE_MAJORNO
    IPMSG_FILE_MINORNO
    IPMSG_FILE_CTIME
    IPMSG_FILE_MTIME
    IPMSG_FILE_ATIME
    IPMSG_FILE_CREATETIME
    IPMSG_FILE_CREATOR
    IPMSG_FILE_FILETYPE
    IPMSG_FILE_FINDERINFO
    IPMSG_FILE_ACL
    IPMSG_FILE_ALIASFNAME
    IPMSG_FILE_UNICODEFNAME
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
【四】数据包格式
①命令（格式 版本-1）
	Ver(1) : PacketNo : SenderName : SenderHost : CommandNo : AdditionalSection
	版本：包编号：发送者名字：发送主机：命令编号：附加信息区域
		版本号: 		 用户自定义
		包编号:		 用户自定义
		发送者名字:  飞秋的登录名: 用户自定义
		发送主机: 	 主机名: 用户自定义
		命令编号:    IPMSG协议规定
②一个使用当前命令格式收发信息的例子
    "1:100:shirouzu:jupiter:32:Hello"
	
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
【五】数据包过程总览
①用户识别
　　 1.飞鸽启动时IPMSG_BR_ENTRY命令向当前所有用户发送上线通知。 //  广播
　　 				↓
	 2.所有用户当受到通知信息时把用户加入列表。	 //  收到广播消息的客户端给主机回消息,服务端通过该种方法来获取用户列表
					↓
	 3.新用户通过IPMSG_ANSENTRY命令得到当前在线用户信息。
					↓
	 4.所有用户在IP存在时可以互相通信。
					↓
　　 5.若更改为离开状态:
		IPMSG_BR_ABSENCE信息广播给所有用户,该用户离开状态取消或者昵称改变。
		但是和IPMSG_BR_ENTRY命令不同的是IPMSG_BR_ABSENCE命令不回发信息。
					↓
　　 6.IPMSG_BR_ENTRY, IPMSG_ANSENTRY, 和 IPMSG_BR_ABSENCE命令使用IPMSG_ABSENCEOPT位for离
　　 开状态。输入昵称到附加命令中。
					↓
　　 添加IPMSG_DIALUPOPT位for广播信息不能达到的拨号用户。用户判定命令需要个别发任选位到用户。
　 （附加组）IPMSG_BR_ENTRY 和 IPMSG_BR_ABSENCE 命令可以发送组名，采用在当前命令格式串后添加组名。
　　（在当前命令和附加名字之间添加‘\0’）

②发送/接收信息
　　 (1)使用IPMSG_SENDMSG命令发送信息，采用在扩展区域添加信息。
　　 (2)如果IPMSG_SENDCHECKOPT位打开，接收信息回发IPMSG_RECVMSG命令。添加最初的包编号到扩展区域中。
　　 (3)使用IPMSG_BOADCASTOPT命令发送广播信息，IPMSG_SENDMSG位应该打开。
　　 (4)自动发送包（离开通知）需要添加进IPMSG_AUTORETOPTfor ping-pong 保护，如果一个或者另外一个是打开状态，确认/自动发送包不回发。
　　 (5)发送信息时 密封需要IPMSG_SECRETOPT包打开。这种情况之下，接收信息发送一个IPMSG_READMSG命令。在附加区域加入最初包号。
	　　（附加 IPMSG_NOADDLISTOPT）
　　 (6)当接收文件时，来自主机的IPMSG_SENDMSG 包没有在你的发送/接收列表，飞鸽将确认主机通过发送。
	　　 但是，单脉冲信息发送/接收行为需要被禁止。添加IPMSG_NOADDLISTOPT位到IPMSG_SENDMSG命令。
	　　（附加IPMSG_READCHECKOPT来自版本-8）
　　 (7)当IPMSG_READMSG命令含有IPMSG_READCHECKOPT位，飞鸽处理过程和IPMSG_SENDMSG同样具有IPMSG_SENDCHECKOPT位。
	　　 但是，发送信息使用IPMSG_ANSREADMSG命令，不是IPMSG_RECVMSG。
③信息发送/接收 加密扩展(在版本-9中加入)
　　(1)使用公钥和普通密钥的结合。
	　　（加密扩展区域使用十六进制格式）
	　　（公钥获得）发送IPMSG_GETPUBKEY命令接收文件。接收文件时得到意味着接收到发送端公钥的
    (2)命令IPMSG_ANSPUBKEY。
	　　 IPMSG_GETPUBKEY/IPMSG_ANSPUBKEY 都需要加密容量位 在扩展区域的开始处使用OR。
	　　 另外，在IPMSG_ANSPUBKEY中，公钥按照以下形式EE-NNNNNN E=ExponentAN=method)用':'分开。
		 同时，在E和N中间添加‘-’.
		这个序列可以在第二次发送/接收处理时通过记录公钥和加密信息跳过。
	　　 (加密信息)当发送方建立一个发送方和接收方的普通密钥后，它就能加密信息。
	　　 另外，接收方的公钥加密普通密钥。
	　　（加密信息传输）IPMSG_ENCRYPTOPT在IPMSG_SENDMSG中使用。在扩展区域的开始，加入
	　　 公钥和普通密钥的or值。然后使用使用以':'为分隔符的公钥加密的普通密钥。然后加入使用':'为分隔符的加密
		信息。如果都是IPMSG_SIGN_XXX，则添加‘：’和签名。
	　　 当然，在编码填充的方法上，PKCS#1ECB被用于RSA，PKCS#5 CBC被用于RC2/blowfish。
	　　 当然，包关联于使用IPMSG_ENCRYPTOPT加密支持的容量的入口表现

④文件附件扩展（从版本-9时可以使用）
    包含IPMSG_FILEATTACHOPT位的IPMSG_SENDMSG文件传输命令标志着有附件信息。
　　 在信息后和附件信息后加入'\0'
    fileID:filename:size:mtime:fileattr[:extend-attr=val1
    [,val2...][:extend-attr2=...]]:\a:fileID...
    (size, mtime, and fileattr describe hex format.
    If a filename contains ':', please replace with "::".)
　　（大小，修改时间，十六进制描述的文件属性，如果文件名中含有'：'，请用"：："替代。）

　　 当接收信息下载附件文件时，IPMSG_GETFILEDATA命令请求和UDP一样的TCP数据传输包端口。在扩展区域

　　 添加packetID:fileID: offset（均使用十六进制格式）
　　 文件发送方收到请求。当判定它是正确的请求之后发送指定数据。（无格式）
　　 当数据接收方下载划分的附件文件时，使用IPMSG_GETDIRFILES命令，并且将packetID:fileID写入扩展区域，

    发送数据传输请求包。（均使用十六进制）


　　 数据发送方发送下面划分的数据格式：
    header-size:filename:file-size:fileattr[:extend-attr=val1
    [,val2...][:extend-attr2=...]]:contents-data
    Next headersize: Next filename...
    (All hex format except for filename and contetns-data)
　　（除了文件名和内容数据之外均使用十六进制格式）
    header-size is from the beginning of header-size to the delimiter ':'
    that is before contents-data. extend-attr can be omitted and used multiple
    extended attributes. Use '=' for data input.
　　 头-大小是从头-大小开始到内容数据前的分隔符':'结束。扩展属性可以忽略并且使用多扩展属性。使用'='for 数

    据输入。
    当文件属性是IPMSG_FILE_DIR，飞鸽判定它是自动在目录中，下一个文件数据在目录之后。
    当文件属性是IPMSG_FILE_RETPARENT，飞鸽判定它返回到父目录。在这种情况之下，文件名总是'.'并且属性值

    是当前目录信息。
    发送过程直接开始于附件并且返回IPMSG_FILE_RETPARENT命令到附件目录。
    添加IPMSG_FILEATTACHOPT位for入口包来支持附件文件。
⑤其他命令
    当获得不同的版本时，发送IPMSG_GETINFO命令。接收方发送版本信息字符串到扩展区域。
    发送IPMSG_GETABSENCEINFO命令来获取离开信息，如果接收方是离开状态，则回发IPMSG_SENDABSENCEINFO。

    如果状态不是离开状态，字符串"Not absence mode"将会被发送。
⑥确认/重发
    如果IPMSG_SENDMSG 或者 IPMSG_RECVMSG的确认包没有在指定时间内投递，它将会被重发。
    重发行为或者间隔的时间段将依赖于当前的条件。

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
【六】其他
    其他
①换行
    在发送信息中的换行符是以Unix类型为标准的。如果需要可以改变。
② 分隔符 ':'
    (1)':'被用做分隔符。你不可以在用户名和主机名中使用这个分隔符。
    (2)如果用户/主机中含有':'，请使用其他符号替换，例如';'.
    (3)尽管使用这个分隔符到目前为止还没有问题，但是我可能创建了一个逃避的序列。

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
注释
    参见ipmsg.h中命令的代码。 

相关博文：
・ IPmsg（飞鸽传书）协议翻译
・ ubuntu飞鸽传书（ipmsg）
・ 飞鸽传书、freeeim、ipmsg区别联系
・ 在Linux下使用ipmsg（飞鸽传书）
・ IPMSG飞鸽传书――编译源代码的方法
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
										MODBUS
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
1.应用于电子控制器上的一种通用语言
2.控制器相互之间、控制器经由网络（例如以太网）和其它设备之间可以通信。
3.Modbus协议定义了一个控制器能认识使用的消息结构,而不管它们是经过何种网络进行通信的。
4.消息结构实现的功能	// 定了消息域格局和内容的公共格式。
	1.控制器请求访问其它设备的过程
	2.回应来自其它设备的请求
	3.怎样侦测错误并记录。
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
						HLink流程
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
HiLink生态硬件接入
	1.通过在硬件产品里接入HiLink SDK或集成了LiteOS、HiLink SDK的模组，在华为IoT Profile规范下定义产品功能，
	  实现硬件产品从电控板到华为云的通信，打通产品控制、状态同步等能力，并能够获得华为基于HiLink SDK的安全、升级、维测等服务。
HUAWEI HiLink Device：开放的终端SDK、OS和芯片能力
    1.集成HUAWEI HiLink SDK，实现终端快速入网、能力开放和设备间互操作
    2.可支持WiFi/Zigbee/BT 
硬件设备接入流程：
	①企业实名认证
	②创建产品
		选择您需要创建的品类（空调、风扇）
		选择您需要的接入方式，当前平台提供硬件接入和云接入两种方式。？
		产品连接方式： WiFi， 蓝牙 ？
	③产品功能定义	---->H5界面开发
		开关、模式，温度，风向
	④固件开发
		SDK下载
			方式一：使用HiLink Wi-Fi模组接入已有Wi-Fi模组设备接入，请登录服务卡片后获取相应的HiLinkSDK
					开发者使用已有Wi-Fi模组设备接入类型，但在平台上未查找到自己芯片对应的HiLink SDK，则需要开发者提供芯片工具链和编译选项给平台	
			方式二：邮件标题（XXXYYYZZZ新SDK申请），XXX指开发者营业执照名称，YYY指本次申请接入的产品名称ZZZ指芯片型号。平台会将在3个工作日内完成新SDK的准备，并上传到平台，同时邮件通知开发者，请合作伙及时查邮件。
		SDK适配		// 平台提供两种开放方式：使用HiLink Wi-Fi模组接入
			1.使用HiLink Wi-Fi模组接入，请参考：使用HiLink Wi-Fi模组接入中的开发指南；
			2.已有Wi-Fi模组设备接入，请参考：已有Wi-Fi模组设备接入对应的开发指南将HiLink SDK集成到智能产品中。
			3.让智能硬件产品可以识别和执行平台下发的指令，例如：将华为下发的字符命令转化为串口可识别的二进制命令等开发工作。
	⑤固件调试
		
	⑥上传固件
	
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
						HiLink SDK <API>描述
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
一.头文件
	hilink.h			// HiLink SDK静态库主头文件
		1.HiLinkSDK入口函数
		2.时间获取函数
	hilink_device.h		// 产品功能适配头文件
		1.设备信息、设备模型定义；
		2.待实现设备服务控制、查询响应函数声明；
		3.供(调用设备服务状态上报函数)声明。
	hilink_ota.h		// OTA功能定义头文件(华为的版本升级, 与我们无关)。
	hilink_osadapter.h	// HiLink SDK <操作系统适配> 头文件
		1.包含系统时间
		2.Flash读写
		3.字符串操作
		4.内存操作等系统函数适配接口声明。
	hilink_log.h		// HiLink SDK系统提供的日志打印接口函数声明头文件。
	hilink_typedef.h	系统类型定义头文件。
###########################################################################################################
二.主要API说明
	①HiLink SDK入口函数
		int hilink_main(void);	// HiLink SDK主流程入口函数，启动HiLink配网及互联互通功能。
	②获取设备状态函数
		int hilink_get_devstatus(void); // 获取设备状态函数
	③设置恢复出厂状态 // 调用该接口完成设备恢复出厂设置，该接口会设置恢复出厂标志，在标志设置成功之后会清理掉ssid账号信息，并重启模组。
		int hilink_restore_factory_settings(void);
	④获取用户配置
		int HilinkGetUserConfig(unsigned short len, char* config);	// 获取存储在Flash的用户配置信息。
			输入参数 ：len 用户需要获取的配置信息长度。
			输出参数 ：config 用户获取的配置信息缓存。
	⑤保存用户配置
		int HilinkSetUserConfig(char* config, unsigned short len);	// 保存用户配置信息到flash。
			输入参数 ：config 用户配置信息。
			输入参数 ：len 用户配置信息长度。	
	⑥获取本地时间
		int hilink_get_local_time_info(pstHILINK_TIME_INFO p_time_info);	// 时间同步模块获取本地日期信息。	
			输出参数 ：p_time_info 本地日期信息。
	⑦获取UTC时间信息
		int hilink_get_utc_time_ms(unsigned long long *p_time_ms, char *time_zone, unsigned int len); // 时间同步模块获取当前UTC时间和时区信息。
			输出参数 ：p_time_ms utc时间，单位ms。
			输出参数 ：time_zone 时区信息字符串，posix tz格式。
			输入参数 ：len 时区信息字符串长度。
	⑧获取UTC日期信息	(utc: 世界统一时间)
		int hilink_get_utc_time_info(pstHILINK_TIME_INFO p_time_info);
			输出参数 ：p_time_info UTC日期信息。
	⑨转换毫秒时间为日期	
		int hilink_convert_time(unsigned long long time_ms, pstHILINK_TIME_INFO p_time_info); // 时间同步模块转换ms为日期。
			输入参数 ：time_ms ms为单位的时间。
			输出参数 ：p_time_info 转换后的日期信息。	
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
						JSON简介
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
// json简介
https://baike.baidu.com/item/JSON/2462549?fr=aladdin	
// json中增加条目
https://blog.csdn.net/xukai871105/article/details/33013455
	
https://www.cnblogs.com/liunianshiwei/p/6087596.html	
	
	
	
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
						网桥
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
(1)概述
	1.网桥将两个不同的局域网(LAN)连接起来，并对网络数据的流通进行管理。
	2.它工作于数据链路层
	3.不但能扩展网络的距离或范围，而且可提高网络的性能、可靠性和安全性。
	4.网桥可以是专门硬件设备，也可以由计算机加装的网桥软件来实现，这时计算机上会安装多个网络适配器（网卡）。
	5.根据MAC地址(电脑主机的唯一地址标识)来转发帧，可以看作一个“低层的路由器”（路由器工作在网络层，根据网络地址如IP地址进行转发）。
(2)网桥的连接方式: 远程网桥通过一个通常较慢的链路（如电话线）连接两个远程LAN。
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
						子网
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
(1)网络划分
	IP地址由两部分构成：网络地址和主机地址
		1.网络地址相当某个网络的编号，
		2.同理主机地址就是相同网络内的主机编号，
(2)子网
	子网就是将主机地址的几位用来做网络地址来将网络划分为若干个子网，便于管理还能减少IP的浪费。

(3)子网掩码：又叫网络掩码，它是一种用来指明一个IP地址的哪些位标识的是主机所在的子网，以及哪些位标识的是主机的位掩码。
	子网掩码不能单独存在，必须配合IP使用。
	用途：通过子网掩码计算出一台主机所在的子网和其他网络的关系，进行正确的通信。
	组成：但是为了方便记忆和美观，IP地址通常是将每8位二进制数转化为十进制来表示，中间用'.'分隔，如1255.255.255.0.
	缺省子网掩码：
		A类：255.0.0.0
		B类：255.255.0.0
		C类：255.255.255.0
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
								RS232(就是串口)
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
	1.通常 RS-232 接口以9个引脚 (DB-9) 或是25个引脚 (DB-25) 的型态出现，
	2.一般个人计算机上会有两组 RS-232 接口，分别称为 COM1 和 COM2。		
	3.而工业控制的RS-232口一般只使用RXD、TXD、GND三条线。		
	4.RS232接口，这种接口可以实现点对点的通信方式，
	5.缺点： 这种方式不能实现联网功能。
	

zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
								RS485()
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
RS485有两线制和四线制两种接线，
	四线制只能实现点对点的通信方式，现很少采用，
	现在多采用的是两线制接线方式，这种接线方式为总线式拓扑结构，在同一总线上最多可以挂接32个节点。
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
								CRC一种校验算法
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz


zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
					外网访问内网(socket广域网通信)
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
设置路由器的端口映射	// 让外网能连接上服务器(路由器)的网络(内网)

1.在路由器上将本机地址做端口映射(外端口和内端口)
	目的: 外网访问路由器上的端口时, 路由器会转发到局域网IP的内端口
2.注册一个花生壳账号(或者https://natapp.cn/(net)),并开通内网穿透功能
	1.为什么?
		因为我们电脑的广域网地址(在百度上输入IP显示的地址),是运营商用NAT动态分配的地址, 所以我们用外网地址+被映射的外网端口
		不能访问到局域网的主机(为了节省公网IP，电信宽带分给路由器的仍然是以个内网IP)
	2.所以
		我们需要用花生壳的内网穿透功能(借助花生壳公网 IP 的服务器进行桥接。)

3.花生壳的使用
	1.进入花生壳官网: https://b.oray.com/forward/?icn=hsk_mapping&ici=hskclinet
	2.点击内网穿透
	3.点击添加映射
		选择: 1.应用类, 2.动态域名(静态要钱), 3.内网主机：是路由器上映射的ip地址, 4.内网端口,是路由器上映射的内网端口(路由器将转发到这个端口上)  
	4.启动映射
	5.点击映射列表上的域名诊断得到:
		诊断域名：244133p39f.qicp.vip
		域名IP地址指向：103.46.128.41		
		转发服务器IP：103.46.128.41			// 这是我们外网客户端需要连接的主机IP地址
		域名已激活内网穿透功能，并与转发服务器IP指向一致
		映射：244133p39f.qicp.vip:24480		 
		局域网服务器：192.168.31.99:8888	// 被穿透的内网及端口(客户端需要绑定这个IP和端口)
	
4.NETAPP的使用		
	1.进入官网
		https://natapp.cn
	2.点击购买通道->免费通道
	3.隧道协议为TCP/UDP, 点击确定
	4.点击我的通道->配置
		1.点击authtoken:
			得到:3136ab29feb511ac  
		2.内网地址为局域网被穿透的主机地址
		3.本地端口输入局域网映射的内网端口
		4.得到服务器信息
			服务器地址: server.natappfree.cc 服务器端口: 443 (此信息供路由器插件配置参考,其他请忽略)
	5.下载32位客户端	
		点击网页上的"教程文档"->使用本地配置文件config.ini, 然后下载
	6.将config.ini和下载的客户端放在同一英文目录
	7.修改config.ini中的authtoken = 第4步得到的东西
	8.运行客户端, 我们可以在官网上看到我们的隧道处于在线状态
		可以得到: tcp://server.natappfree.cc:40369->192.168.31.99:8888
	9.ping server.natappfree.cc我们得到112.74.89.58的回复
		==>我们的TCP客户端连接的主机地址和端口应该为:
		112.74.89.58  40369
5.注意: 我们申请的公网IP会变化, 我们要不定时的修改客户端连接的主机地址和端口
6.账号
	花生壳
		zx982036291 zx060198
	NATAPP账号
		net_app
		zx060198	
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
					HTTP协议
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
①Linux,http服务器搭建(apache2)。
	1.sudo apt-get install apache2
	2.修改/etc/network/interfaces为:
		auto lo
		iface lo inet loopback
	3.重启网络管理
		sudo service network-manager restart
	4.编辑新静态网络连接(示例)
		address: 192.168.1.107
		netmask: 255.255.255.0
		gateway: 192.168.1.1
		DNS domains: 192.168.1.1
	5.sudo apt-get update
	6.sudo apt-get install apache2
	安装好后会生成/var/www目录, 这就是http的根目录
②测试http服务器
	1.在/var/www/目录下新建一个文件list
	2.在浏览器中输入192.168.1.107/list看是否能访问到list中的文本, 如果能够访问到就说明服务器是OK的
③http协议简介
	// https://www.cnblogs.com/ranyonsue/p/5984001.html
	1.HTTP协议是超文本传输协议,是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。
	2.HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。
		一次请求得到回复后,服务器随即断开连接。
	3.HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六版，HTTP/1.1的规范化工作正在进行之中，而且HTTP-NG(Next Generation of HTTP)的建议已经提出。
	4.HTTP协议工作于客户端-服务端架构为上。
	5.浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器根据接收到的请求后，向客户端发送响应信息。
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
													global  cache协议
zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
要使用全局缓存IR数据库API，用户必须使用API /accounts/login调用登录(见下面)，并且生成的API密钥必须作为查询参数传递给请求。
虽然只需要在请求IR代码或管理帐户时提供API密钥，但是也可以在对IR数据库API的任何其他调用中提供API密钥查询参数。
云中的全局缓存的IR数据库的当前URL是进入翻译页面

API CALLS (BY URL)
	


































